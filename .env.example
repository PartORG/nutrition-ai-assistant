# ─────────────────────────────────────────────────────────────
# Nutrition AI Assistant — environment configuration
# Copy this file to .env and fill in your values.
# ─────────────────────────────────────────────────────────────

# ── Security ────────────────────────────────────────────────
# Generate a strong secret: python -c "import secrets; print(secrets.token_hex(32))"
JWT_SECRET=change-me-in-production
JWT_EXPIRY_HOURS=24

# ── Database ────────────────────────────────────────────────
DB_PATH=users.db

# ── LLM Provider (central switch) ───────────────────────────
# Controls ALL LLM components: agent, RAGs, intent parser, safety filter.
# Allowed values: "openai", "groq", "ollama"
LLM_PROVIDER=ollama

# ── Model per provider ──────────────────────────────────────
# Only the model matching LLM_PROVIDER above is actually used.
LLM_MODEL_OPENAI=gpt-4.1-mini
LLM_MODEL_GROQ=llama-3.3-70b-versatile
LLM_MODEL_OLLAMA=llama3.2

# ── API Keys ────────────────────────────────────────────────
# Required when LLM_PROVIDER=openai
# OPENAI_API_KEY=sk-...

# Required when LLM_PROVIDER=groq
GROQ_API_KEY=gsk_...

# ── Ollama connection (only needed when LLM_PROVIDER=ollama) ─
OLLAMA_BASE_URL=http://localhost:11434/

# ── Embeddings (always local HuggingFace, not affected by LLM_PROVIDER) ─
EMBEDDING_MODEL=sentence-transformers/all-mpnet-base-v2

# ── CNN Ingredient Detector ─────────────────────────────────
# Detector selection:
#   yolo_with_fallback  - tries YOLO microservice, falls back to LLaVA (default)
#   yolo_only           - YOLO microservice only (no LLaVA fallback)
#   llava_only          - LLaVA via Ollama only (no YOLO)
CNN_DETECTOR_TYPE=yolo_with_fallback

# URL of the YOLO microservice
#   Docker: http://yolo-detector:8001  (auto-set in docker-compose.yml)
#   Local:  http://localhost:8001
YOLO_SERVICE_URL=http://localhost:8001

# LLaVA model name used when CNN_DETECTOR_TYPE includes LLaVA fallback
# Leave empty for default "llava", or use "llava:13b" for better accuracy
CNN_MODEL_PATH=llava
CNN_CLASS_LABELS_PATH=
